import formatCredit from 'utils/formatCredit'

describe('formatCredit', () => {
  ;[
    [1.75, undefined, '1.75'],
    [1.75, 1, '1.7'],
    [1.75, 2, '1.75'],
    [1.75, 3, '1.75'],
    [1000000, undefined, '1,000,000'],
    [1000000, 1, '1,000,000'],
    [1000000, 2, '1,000,000'],
    [10000, undefined, '10,000'],
    [10000, 1, '10,000'],
    [10000, 2, '10,000'],
    [10000.5, undefined, '10,000.5'],
    [10000.5, 1, '10,000.5'],
    [10000.5, 2, '10,000.5'],
    [10000.5, 3, '10,000.5'],
    [10000.45, undefined, '10,000.45'],
    [10000.45, 1, '10,000.4'],
    [10000.45, 2, '10,000.45'],
    [10000.45, 3, '10,000.45'],
    [10000.55, undefined, '10,000.55'],
    [10000.55, 1, '10,000.5'],
    [10000.55, 2, '10,000.55'],
    [10000.55, 3, '10,000.55'],
    [10000.455, undefined, '10,000.45'],
    [10000.455, 1, '10,000.4'],
    [10000.455, 2, '10,000.45'],
    [10000.455, 3, '10,000.455'],
    [10000.455, 4, '10,000.455'],
    [10000.555, undefined, '10,000.55'],
    [10000.555, 1, '10,000.5'],
    [10000.555, 2, '10,000.55'],
    [10000.555, 3, '10,000.555'],
    [10000.555, 4, '10,000.555'],
    [10000.4555, undefined, '10,000.45'],
    [10000.4555, 1, '10,000.4'],
    [10000.4555, 2, '10,000.45'],
    [10000.4555, 3, '10,000.455'],
    [10000.4555, 4, '10,000.4555'],
    [10000.4555, 5, '10,000.4555'],
    [10000.5555, undefined, '10,000.55'],
    [10000.5555, 1, '10,000.5'],
    [10000.5555, 2, '10,000.55'],
    [10000.5555, 3, '10,000.555'],
    [10000.5555, 4, '10,000.5555'],
    [10000.5555, 5, '10,000.5555'],
  ].forEach(([input, decimal, output]) => {
    test(`should format credit (${input}${
      decimal ? `, ${decimal}` : ''
    }) to ${output}`, () => {
      expect(formatCredit(input, decimal)).toBe(output)
    })
  })
})
